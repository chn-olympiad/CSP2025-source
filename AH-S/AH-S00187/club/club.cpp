#include<bits/stdc++.h>
using namespace std;
int t,sum,n,f1,f2,f3,a,b,c;
int main(){
	ios::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);
	freopen("club.in","r",stdin);
	freopen("club.out","w",stdout);
	cin>>t;
	while(t--){
		cin>>n;
		sum=0;
		f1=f2=f3=0;
		for(int i=1;i<=n;i++){
			cin>>a>>b>>c;
			if(a>=b&&a>=c){
				if(f1+1<=n/2){
					sum+=a;
					f1++;
				}
				else{
					if(b>c){
						if(f2+1<=n/2){
							sum+=b;
							f2++;
						}
						else{
							sum+=c;
							f3++;
						}
					}
					else{
						if(f3+1<=n/2){
							sum+=c;
							f3++;
						}
						else{
							sum+=b;
							f2++;
						}
					}
				}
			}
			else if(b>=a&&b>=c){
				if(f2+1<=n/2){
					sum+=b;
					f2++;
				}
				else{
					if(a>c){
						if(f1+1<=n/2){
							sum+=a;
							f1++;
						}
						else{
							sum+=c;
							f3++;
						}
					}
					else{
						if(f3+1<=n/2){
							sum+=c;
							f3++;
						}
						else{
							sum+=a;
							f1++;
						}
					}
				}
			}
			else{
				if(f3+1<=n/2){
					sum+=c;
					f3++;
				}
				else{
					if(a>b){
						if(f1+1<=n/2){
							sum+=a;
							f1++;
						}
						else{
							sum+=b;
							f2++;
						}
					}
					else{
						if(f2+1<=n/2){
							sum+=b;
							f2++;
						}
						else{
							sum+=a;
							f1++;
						}
					}
				}
			}
		}
		cout<<sum<<endl;
	}
	return 0;
}
