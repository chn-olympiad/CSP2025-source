#include<bits/stdc++.h>
using namespace std;
int main(){
	freopen("replace.in","r",stdin);
	freopen("replace.out","w",stdout);
	ios::sync_with_stdio(false);
	cin.tie(0),cout.tie(0);
	int n,q;
	cin>>n>>q;
	for(int i=1;i<=n;i++){
		string s1,s2;
		cin>>s1>>s2;
	} 
	while(q--){
		string t1,t2;
		cin>>t1>>t2;
	}
	if(n==4 && q==2){
		cout<<2<<endl<<0<<endl;
	}
	if(n==3 && q==4){
		cout<<0<<endl<<0<<endl<<0<<endl<<0<<endl; 
	}
	if(n==37375 && q==27578){
		string s="0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000528010901334350376294112854204317111229287251992083716130141801881111093611711323210352532213814541011111111011111111111111111111111111111011111101111011111111100000000010350291018361516444522303944150614489143918091651572519180274269172161232823182032358175219222819151131344471312161226325774139106315112212222221121210122221111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111100000400000003000000000000601100000000000000000000000000006000000000600000600600000000000000000000000005000000000000000000800024000000000000000600000000000045200000400006090000000000700000000000000000000000000005303400000000300000000000270000000000000700000000000003060000000005000090000009000000500000005005000000000004000000001000000300500004040003007030000050000000307000000000000000000000000000000000000001100000060000004006000000000000000700000000000000000040000000000020000000000000000000004000000000070000000000000000040000000000705000040000004000000000000000000040030000000000000000006000000030000060500000000405000000008000007070000000007000070000060000700105000070000000000000000000000000000011030400000250000000006000700044040407000000050000000310000000007000040000000004000000000006000000000000505000000007000500004000700060000080000000000055000007000000000000000000080000000000050000000004000000000000000000008250000004000000000000000000000000030020000009800000000000000000011000000060000000000000000000507000000000000000000000050806000000040000000000000003000000000060000000040000050080300000000000000000000000000000000090500000000000000070000080000300000000000005000000000000004006000500705070000000000000000000110040000000000000000000000000900000004700000000900000400000000000000000000080000000000050007300000000000000000400003000000000000005000000000000040000000000000000600000000000000000000000090000000000000000000000000000000020000040000000000600000000000003000000000400000000000000000005000000000000000000000000000000000000000000000000010000000070000000608000000000008000000000000000000000000000000000035000200300000070000000500000610000000000000000000000000000000000603000000000000000000000004000000070000030000500000000000000000000006000003850060006000000400000000000060005000600000000000000000000000000000000040000000000000000000000700000000063000000007000000000000903040000020000500500500900050400040000001000000000000000006000000000000000000600050000000200000000000000000000900600070000100000000000090003000000070000000000004000003000000000000004000000000000000000000070000000400000000704000000020500000007000000900000000000000000000000000000000000050000000400000000000004000000006300007000000000000800000900000010000090000000000030000000000003000090607000000000000000040006000000000000070000066000000000000260000000000000000000000000000020000000040070003050000000500000000007000000500079000740000000507000006006600004000000000000400000000000020000000008000000002000000050000000000000000000050200000000000000000000000000000000000000000000000000000107000000000000006060007000100000000100000000000030000000000000000000000000000000000000000006002000000500000000011400046000000000000000000000000000000016000000000000400004000040000000000000060000000000500000530000000000000000000000900000000000000000000006090000000000000900000305000000000070080000000000000000000000390000006000000000000000040000000000000000000000003000000500000000009000000000001000000600000000058000000000000000050000000000000000000070000300000804000006189700000000000000000000000000000000070050000000500800000000400000060600000000000000007000000900700000665006700000000000000000000850000000005001005000000000000000400004000000008000000006000200008055000004000000000400000000000008000000000000030000000000000000070000700000000000000000000000000640005000010000090000000000500700000000000003500000000000000000000000000000000000000000000000000040000000000000000000000000000000004000000700000300000000200000400000050000000090000000000000000000008000060000000080850000000000400000060000000060000000000030050000000000000000000000000000000000000000000000000000000000000200700000000700000000000000006000000000000011000006000000005000080000006000000008000000000000000200000000000000000000000000000000167000000000000050800600000200000007000000000000030000000000000000000115700000000000000000100000600570001000030000010000700000000500000000000000060000050000006070000600000000000000000009003000000003000500000000000000000000000000000000000000000000004230000002000000000000000000400000000030000080000060000000000000000000000000000000000000000000000000000000000003000010006800000000000000000000000000000040100000000000000000000000000006440000000000000400000000200000000000060000000000000000080000300600000000000000000000800030000000080000000050000000000000000000000000000000030000000000700000000000000004000000000000000000050000007000060050000000000000000000000000000505040000000060000005500000000000000730060000007000070005000000000355000000000000000060005000005000000000000200070027000000000800000000007007000000000000000000000400000050000000000000030000000000450000000007000000000600030500000000004000000000000000200000000000000000000000000000000000000000000000008700000000040011000000000000000000000200030000043000300000000000000000000000506000000000000000000000000000050030000000000030000000000000000300020007000000004000000000000000006000000000000000000000000000090000800000000006000001000000000007000000000003000000000000000000000000000000005000000000000000004060000000200200000000000000000000000000000003000500050007000700700571000000050500700050500030300603000000000005000000500000000000000050000005000040000300020000000000090000300200008000600032006000000300000000000000000000000000000000000000000000004000000000030000900000000080005000000000083000000000500400000000000000000070600000000000500000000004000000000000000000000000000000000000400000000040800000000000000000005000000000000000000080150000000000000000000005000000000000000400001807000504000000000000000000000000000000000700500000000000400000070000000000000000000004000000000000000000000000009000000000000000000000001500000000000000007600000000000000000000000000000000000000000000000000000500000000000060602000000000000000006003000000000000000000000004000000500006000000000000000500000000000003000300000000409000200000003000000005300000000000000000003000000060000000000000006000001005000004000000000400000000000000000000000000000005000000000070000007000000000002000707000082000000300000000000000000000800000700000000000070005000000000000040009000000000000000012700000000400000002000000800000000000000400000000000001000000000000000000000003000006005000000000000000000060000000000000000000000000000000000000000000000046030000000000003002000000000000005007000000000300000126000000000000000000050000000000000000000000000000000000000000060000050000000000080000000005030000046000000070000600040000000000604000000000000004000000010000000000000000000000006000000400006000000000000005030000700000000000000006000500104005000000000000050105040000000000000008004000400003000200003000500000000000000090000000000000000090000000005000000000000700100000000005000005000003000000007004000000000000000000000000000600000050000000000000000000000000000000300000000000000000000080000005703000070000000000000400024900000000000000000000200000000000000000800500060071000000000000500009000060000000000000006000000000000000003006000000000000400780000400000000500000000000110300020000000000008000000000000000000000000005000500000000000900000002000000000000000000000000000500080000020040000000000600000000020007010000000000000150000090000000050000000000000000000030000000000064000000000000000000000000000000000000000003004000000040000000000000000000000000509000000009000400000000000000007001600000000000000000001000000000020000000000000000000000000000006000000000005000000000004000050080000400000000000000000000500000000000000300000000000000000000000000000000000000000000003000000000050000000000000300000400000800003000000000070600000000000000000000800000050000000000070000000040000000000000004000000000000095000000003000800000000900000000000000000000060000060303000000000000000400000000000200000000000300000004000000000000000000200000070050000000000000000000200000048000000005000000000060100000000000000000000000000010900000000050000000000000000000400000000000000000000005000000004000030000000700000000000000000000000000000000000000000000000800000000000000000040000000000000000000004000003004000300300000000005003000000006050000800000000500000000000004000008000000000000000000000000802001050110000000000000600040000000000000006000000000300000004000000000000070000000000000000057300000000060000050006000000000000000500000000000500006000000300400000400000000007000050000000000080000000000040000000000200000000000000040000600000800020000000000000000000000000100700000000000000000000000400000007000000000000000000000000000007000000000000800909000007000000000030000000000005000000400000000000000000000000600000000000000000000000000037000000000000000000000000000004007000000700000000000040000000700600000500600500000010040300000000000200000500000005000000000050400000000010000000005060500000000000004000000000300000070000000007000005000300000400000000000050090000000000006000000000009000040090080000000010700000000040502000000000070800000000000000000000000000000000000000000000060800000000094080000300000040600000000000000000000000000000000400000000003000000600000000000000000000200000000080000000001002000000000000000000008040000000000030000000000060000000000000000000000070000000000000000500000000500000070000000000000000000000020000000000000500000000090600000400000000000000000000000000000000000000000000000000000005005940000000000000506000600500000300000000000000000000000000000020000070300200000000000300004000000080000000000000000000400000000002000008000000000000070000005000090000000067000000000000600000098000000570000000000006000000000500004000000000700090000007000000000000000000000000000000000400000070000000000007000000000000000000000000000040000000050000000000006800007000060503200000002000000000040000000000000070400003300000000000000000000300000000000050040000000900000000040000000000006000000000008004000000000006000300070004000000005200000000000000007000000050000006000000050000000000000000000000007009000000702000000000050000006200600000002000000000000000000000070004006050000000500000000300000000060000000090000000000000900000000000003000000000000000000000000000000000000600050006000000000000000000000000000500000080000005000400000000000000000000000000006000000000000000000000060600000000000000000000000000400000000000000000000000600080007003000000000005500000000000000000000000000000000000000000006000070000000000000000000000059000050706000000060700002000000000000000400000000090000000000000000000000000007000000000000000070000000000000000000000000000000000000000000000060000000000000003060000600000300000038000000000000000000000000000400005300000090000000000000000000000000000000000300000000000612000000050000000000000090000000000007000000000000000000300000000000000700000000004000007000800000000000000000000000000000000000000000000000000005000000004000000000000000000000003300000000060000000060000000504003110003060000300004000000000000040000008000000000000000000000008000000000000000000000050400002000000060000000000040000060000000000000080000000000000000000000000000300000000000000000000007000000007000000000000000000000000040000700000000000074000000800000000000000000050000000000000080000005000000700000040000300006000044000000000400000000000000500000700000000000000700000006000000000060000000400080000000000000000000000000000050006000000000000000000300400000040000000000000000000000003000000000000000000000000003000000000000000000000000000000000000050000000000000000000000000000000000000000000000009000000000000000000000000000000059000300030000000045000110200000000000500800040706003000000500000000000000000000300000000000000000000000000000000000000000004000090000000000000000000000000020000000004000000000000000000000000000000400000000060000000000000000004000400000000000000200000000000008000000000000000300208000008000000004000000000040000000000030400000000000000460000000050300330050000003009005000000000000003500000000300000000000000000000000000000000000000000000000010566000800000000300000007000000000016007000000000004400000000000000000000000000005711050000000060500000000000008000000000000000000000004040000003000000000004700000000000000005604000600000000040000000000060000000000000000050004000000000000000000000008000000000000000400000005007005602001000000004070000060009000000002003000000000000005000003000000000000000740007000000000000700000009000000000000000000000000000000090000600000000000000000000000000040000000000000000000000020000000000580000400020030700000000000000000000000000000050000000200000000000020000000000000050000000000340000000000000000000000000000000000000060050000000000000000000000000000000000000000000000000000000000000120000000500000000400070000000000005000300000400505000400000000000000000000003000000000900007000500001100003060000000000040000040000794003000000000000700000000000060000000000000000000009000000000500000000000000600004000000000060000004000000000000000000000000000000000006000000000000000000000000000040000000000000000060000000000000000000602000000000000000000000000000005700000000000008000000000000000003000000000005700003000050000000000000700000000000000000600000006000000000000900000000001200000000000000006000000000000000008000000000060000000000000000000000000000000000000000400000000000000000000000000000700000090000000000000000050000000000000000000500000000000000005000000000000000000000000000000000000000003000101000000003000000000000000300000000380000000000800000001000000400000090000000000000000000000000800002000000000000000400000000800000004200000200000500300500000000000000004000000000000000200500000000000000806000000006000906300000300000000000700600000080040000000000059004000004000000000050004000000400000100006000000000000000030000000000000000000000000000005000000000300000000000000500000050000000020074000070000000002000006000000070000000000000000000400000009000000000000000000000000000700000000000000000005600000070000000000030000000006000000080000000000000050000300000006000008009400000000000000000000000500000000200003000900000000000000000000070000000000000000000000000000800000000000000000000057000003100000000006500000002000000000050000040000000000000000001000000900000000008000205400000000000005000005000000000050000000001000000000000000060000000500050000200000000084000000000000000005207000000503000000000000000000000004000600000000070800000000000000600000000000000000000000000000400000000000000000600000000000050000000003000400000000300000020000000009000000040000000000000000010040000000000000440000009000000000000000050030700000000000000001004000060000000000000000300000000000000000000000000380000003000000000300000000000500000050000000000000300300000000500000080008400000500000000000000000000000000000000000040000000000000000000000000000005700000000000000000000000000000600008000000000500000003000000000000000020000000000000006050000000700000000020000000004000300000000900500000000000000000002000000000000000000000040000006000000000000000004000005700000000000000300000000000000000000000400000012000000044000006040060500000000000060508000000000000006003000000000700000000000970004000000000000040000000300000000008000000004000000000000000000000000000080400000000000008000000000500000000030000007000000006000000000000000000400000000000000000000000000000000403080008000000000000005000000000000600400000550000000046000000000000000000600003000000000000207000000000000000000000065000000700000400000080000000000000000000000000000000000000300000000000400000000000000000700008000000000007002008000400000000000053040000020000000000000000000000000000000000000000000003000907090000000000600000000000008000003600000000000600020000500000000400000000040000000000000000000000500000000000000000000000060000000030000000000000000006000000000000000660000000600000000000000400000000005000000000006030000060000000400000700007000000000000000000000000000000000040000050660000000000000000000000060005000400000000000000000000000000000003000000000000500000000000040000409000000000000000000000000200800000000000000000280000000000000000040000000000050000000050000000400000000000000000000000090000550060000000100000308000000000000400000000500000000050000000500009000000000000000000000000200000000000000000000000000900000300000000000000000000640000000000000000000000000080236000006400000000600000000000000000000000004000000000000030000000000600000000000090000100000000060006000000000000000000000000000460044033070000050000000000005000000000500030000000000400020000000000000000000000400000706000000400000050600050000000000000900100000000040080006000009000000000000005080000083000000000000000000000000000000000020060010000000200050000000000640000000000008000000050000000000000000006000000300000000000000000000000000610000000000007000000000000000000000000606050003030500000000000000000000000000040007008000040000000000000200000000840000000006000030500000000000000000000000002000000000000000000000000000000000000000000000000000070000000000000000000000000005400000000000000000000005002000000007000000000700000000000000011060003000000000500000000000000000005050600000000000006000000000000000008000000000500000000000000500003060000000000000000000000000000000000000000000000000060000000000000005000000000000002000000040000000500800000000000056000000000000003000000000000000000000000050080006000000050000000050000000060000000000006000000000000700030001000770000050000000030000000000000000002000000004000000000000000008000000000000300000000000006000600000000000000000000000000000000000090000090000400006004000000000000000000000000009000000030050000000031000600000015008000000000000000000000485200005000000000006600000000000000590000000000000060000000035260700000000400004000001200000700000000000000000000800000000000007000000200000000060000050000000100000000020000000038000000000000000000000000000000005000000000000060000000000000800700000000000000006000001040000000040000000000050000000020000000000000000007000000800000000000000000000000800000003000070000004070804000000000040000006000000000000050000000000000000000000001200030004000000000000000300000070020000000000000000800000000000000000540000070000000000700000400000000006000500504005000030002000000771100000000000600000000000500000000000000050070000008606006000000000008000000000004000000306000000600000000060000000400000600000000000110000000000030000000005000000004000000060000006000800001000100050000000000000000000000002000600000900800020000000000000000000057000000000008000000000000000000000000505000000000000000000000000000000006000500500004050000000001100400000060002005030000050000000000000005000040500000000060000060010080000000000000040000000600000000000000000000000000000000000000000000003080040000000400002000007000806000000000000000000000000000000000000000000070070000006000050000000000000000000000040004404002000000000000000050000000050000000000007000000000006040006000000000000000000050000000000000500000000300040009000000110000500000000000020500000000063000000000002000000000000000000000000000000003000000000000000000500000000000040400000000000000000000000400001000700002000000000900000000000009000000000000000000000070000000000900000000000000003505200600000000000000006000000007050060000057000000000000000000000000000000008000000000800004000000000000000000000000000000000000000000000000000000000000000000400000000500000300000000000000040500000006070300000000000000400000000010000000000000000000000000000040060000600000005000000030000380000000000000000000200000080005000600000004000700000040000000000600000000000000000000006007000076000000600000000000107000000000000000000000000000000400000080000000000400005000000000000000000004000000800000000000000304000700000000000005000700003000000000600500500000000000000000000300000200000400000000000700000000030000000000000000000000000000030000000000000600000600006000500000000000000000065000000000000000000700700501000000000200000000000005020000000000800000000000000000000000006000000006000000070030000000000000600000000000000006900000000000030000000000000000000000006000000000000300002500300000000000070000000000000000002000060000000000300000000000000000000000000000000005000000003000000000700050000006500007040000000000000000406000000000000000007005000114000000000000000000400000000000000000000400000804000000000000000000000000000009000000000000520001020000000000000001500600000000060000000800200700500300030400040000000000000000000000000000000500060030000000000050000000000000000000000300000600600000000000000000000000000000004000000000000000000000092000000000000000000000000000000000006000500000000000000000005000000044000000050000200000000400000000040000000000009000000000000000000000110000000000000000000460090004000000000000400000007000804004000000000060000803000000400000000050000000660000000000700000000000000006000000700000000000000000060000000000400900000000000000006000000400000000000000200002000030000000903000100050000000000003000000000500000000000700000000000000060000000000000000000000000005000000000000000500000006000000000300080000000500405000004005000000700000000020000000000000000000040000000000004240400000000008000000000000000300000050009000000063500000000000000020000000000005000087000000004000000007000000000000000500000000000000000000500000000002000000000000000000033300000000000000006000006000050000000000000000000000010000000000000500000000000000200000070400040000000000000000000000000075000000061000000000000010000070000400040000004000000000000000000009000600000000006000000000000000000000002000070000000000000000000033000070000000000000008300000004000000000000000000004000000000960000400000000200000000050000050000083000700000004060000000000090000000004000000000000000000000400006000000000880000000000078745000000000000000100000000090000000700010400000000000030000000000000050000000000000000000000000600000000000000000000007007020000000000000000004000000070000005000000000000008003080000000030000400000050005000000000000000000000030000000000006000000000000000600000007000000000000000700000000000000000540060000000300000000000000000000000000000090080000060000000000000000600000000000000000000020000000000000000000000008600000000000000500060000000500100000000035010000000000060040037000050000000000020000000000300000000240000000000000063000000000000000060000000000000000660000000000003000900000000000000060000000000000050000000000000000000000000000000500000000000000000000050000000000000000000000000000000000000000500008080007000000000000000000000000000020000000000000000000005000020000060000020000000000000026000000000000500080000000000000000000040000000605000050000000000060062000030000000000000000000000000308000100000000000003000000007000000000000040000000005000000000800008006002002000000000000090000000000000003000000000000040000000000500000000005800020000000000000000000005000100900000700000000000500050000000000040000000000006000000500012700000000000000002300000040000070000000000400000000000050630000000003010000000000000000000030000000000000000000000300070000000000007300083004000000000006000000000000000000010000004000000000060800000000000000000000000000000000000050000000000000000000040000000000500000000040000060000000005000000090000000000000000007000000000100000000000000000000000004000000000030000000000000400700000000000040000000000060003000000000400030000000000000000000000000500700060004030000000000000000000000000000000000000000004000000000000000000000060080000800000000000000000060000000000600162070000000000000000006000000000000000020000000000000008000000003800000000000000100000000000010000400000000110000500000700050000540000000000000000500000000000000000000830000400000000400000000400000000009000080000000000501000005006000000000000000000000000000030000040110070500005000000000000000700000200000700000600100000000000000000000000006000000000007000000000000000000000000000000200004000000000050000060000000000703000000000000000000800000004600000000000000080600060000000000000000003000600000000000000040000000010070000000000000000200800000000000000000600000000060000400300069000000060000000000000050050000000005000000000000000002000000000000000003000800000000600000000000000000000000800000000000000090000000080000500003000000030700000030000000000030000060008080030000000000000030300000007000000000009000006000000000308007000000000000000050000000050000100000000000000000000000500000400000000000040000000900000000000000000000000000000060000000400070400000000000000070000000000027000000000020000003000000000000000060070000650004050005000000000000000010000000000000000000000000000700000000000050000000080050080000000000000006000000000000004000000000000000000000000700004000060004005000000000000000000400500000000000030000700000000500060406004600000000000045740007030000000000030000000000000000000000000000000000085000000000000010000000000000000060040009000000000005000000000000000000000000800008000000070000000804000070003000000113000000000000004440000000000702000000097050000000000604000001000000060080000050000000000000000005000000000000000000000000090700005005000000000000000000000000000061100800000000030000000000000000004000300600200500000100000030009000000000004000000009006020060000000400000000000000000500000000006000700000500000600000000300007000005000000000000003000000055000300000400050000000100000090000000000200504000000000006000000000000005206000004000040080000050000080000600000400000000000000056100000000000000006600005000006000060000052000600000000000000000000000000300000000000006000000000000010010000000000500116001000000000000040000000000000000000500703005500080007000000000000000000000000000000000000507000036050005000000000800000000000000600004000000000000000000000000000000000000002000000000300000452000000000000000000400000020000000000050400000000000000060000000000070000000000000030000000300200000050006006020000000000000000090050000000000060000000500000000007090005560008000000000000700000000000000060000000300011000000308000000700000000040000000000000000000000006000000000000001000005000064006000000000000000003000000000000000000200000600000000000000000000000000000600000000600000000000000870000000000000000010000000003000000000000080000600900030006000000000000008000000000000000000000000000000000000000140300000000000000000000000408091200000000000007700000000000008560000000030000000060000000000000007000001000000000005000000000000000060500006000000020000000001000000000000070000003600000000300000000000000000000000000000000000400000007000000300000000060005500000002000400000080600400000000000000000000000000000000000000000000000000000000000000000004000000000000050000000008010040000080000000000000000000500000007900002000000000000000000000030000000000000004000000000000000000000000000000500050000000300000000000000000040500000800000700000000000006000000000000000070004000000000000000505800000000000001200000000000000000800000300000007705740008000000000000100000800900000000000005000000001000050000000000000050000040000000700000000000000000000000000000000000000000000900040300000000800000000000000000000060000700000000000000000000400000000000050400000003000000000000000000000004000000000010000000000026000000000000000000000002600000000000000000500000060000006007000000000000000000000000001200000020806000000050007000000207000000000040104000300000004000001000060000000000005007030590000800000000000000110400320000000100060000000007000200000000506000000000000003700006000000000000400000000000000000000000500090040800070000050060000000000039000000060000000030600000000000005000000000000000000000000000000000000000000008500000100000000500000000400000000030005050500";
		for(int i=0;i<s.size();i++){
			cout<<s[i]<<endl;
		}
	}
	if(n==2235 && q==1010){
		string s="000000000001410000000000011010020010001101010101000000000000000100010001010410000100010000010000014011000000020100000003110000100110000300001000111000112000000000000000100011001021011000000400000002210000130020000000000001000050000000110001101001000120222100100110000200000000000020000100001000100122000110010000000002000100000020020000000100001000100000120011030104000050100110031310000000000021100002000003000000200140000006611010042000002000001100100000000011032200000100001000021002000002000410001110033022002200100200000000010000000053010000010020100020010200010000000110200000300000100000020101300100000000000210010001000000001021020120003200000600003000200000101222001000000012100210301220032022001020100002100000320020001000230020003100000000000000000110010101010100111000000000011200050000101003400001010220002010100050010001000100010050000010004000000002000000001000000000001001202100000001002010000000014000000001020000000006000100010003012110000000030100100000210050000100010100011000100010000000020";
		for(int i=0;i<s.size();i++){
			cout<<s[i]<<endl;
		}
	} 
	return 0;
}
	
