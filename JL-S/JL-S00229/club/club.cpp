#include<bits/stdc++.h>
#define int long long 
using namespace std;
int  t,n,a[100010];
signed main(){
	freopen("club.in","r",stdin);
	freopen("club.out","w",stdout);
	cin>>t;
	for(int i=1;i<=t;i++){
		cin>>n;
		for(int j=1;j<=n;j++){
			for(int w=1;w<=3;w++){
				cin>>a[j][w];
		}
	}		
}
	 if(n==2){
		int h[4],t[4];
		for(int j=1;j<=3;j++){
		 h[4]=a[1][i];
		 t[4]=a[2][i];
		 int lwg=max(h[1],h[2],[3])),max(t[1],t[2],t[3]));
		 int he,te;
		 for (int j=1;j<=3;j++){
		 sort(h+1,h+4.cmp);
	     sort(t+1,t+4.cmp);
	 }
	}
}
if(he==te){
	if(hh>tt){
		ans+=hh;
		ans+=max t[2],t[3];
		else if(h[2]>t[2];){
		ans+=tt
		}		
	}
		cout<<ans;
		return 0;
}

