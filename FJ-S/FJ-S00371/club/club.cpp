#include<bits/stdc++.h>
using namespace std;
int main(){
	freopen("club.in","r",stdin);
	freopen("club.out","w",stdout);
	long long t,n,a[1000][3],sum=0;
	cin>>t;
	for(int i=0;i<t;i++){
		cin>>n;
		
		for(int j=0;j<n;j++){
			for(int k=0;k<3;k++){
				cin>>a[j][k];
			}
		}
		if(n==2){
		long long nn[6],n0=nn[0];
		nn[1]=a[0][1]+a[1][0];
		nn[2]=a[0][2]+a[1][0];
		nn[3]=a[0][0]+a[1][1];
		nn[4]=a[0][2]+a[1][1];
		nn[5]=a[0][0]+a[1][2];
		nn[6]=a[0][1]+a[1][2];
		for(int j=1;j<=6;j++){
			if(n0<nn[j]){
				n0=nn[j];
			}
		}
			cout<<n0<<endl;
		}else if(n==4){
		long long nn[53],n0=nn[0];
		for(int j=0;j<53;j++){
			nn[j]=0;
		}
		nn[0]=a[0][0]+a[1][0]+a[2][1]+a[3][1];
		nn[1]=a[0][0]+a[1][0]+a[2][1]+a[3][2];
		nn[2]=a[0][0]+a[1][0]+a[2][2]+a[3][1];
		nn[3]=a[0][0]+a[1][0]+a[2][2]+a[3][2];
		nn[4]=a[0][0]+a[1][1]+a[2][0]+a[3][1];
		nn[5]=a[0][0]+a[1][1]+a[2][0]+a[3][2];
		nn[6]=a[0][0]+a[1][1]+a[2][1]+a[3][0];
		nn[7]=a[0][0]+a[1][1]+a[2][1]+a[3][2];
		nn[8]=a[0][0]+a[1][1]+a[2][2]+a[3][0];
		nn[9]=a[0][0]+a[1][1]+a[2][2]+a[3][1];
		nn[47]=a[0][0]+a[1][1]+a[2][2]+a[3][2];
		nn[10]=a[0][0]+a[1][2]+a[2][0]+a[3][1];
		nn[11]=a[0][0]+a[1][2]+a[2][0]+a[3][2];
		nn[12]=a[0][0]+a[1][2]+a[2][1]+a[3][0];
		nn[13]=a[0][0]+a[1][2]+a[2][1]+a[3][1];
		nn[14]=a[0][0]+a[1][2]+a[2][1]+a[3][2];
		nn[15]=a[0][0]+a[1][2]+a[2][2]+a[3][0];
		nn[16]=a[0][0]+a[1][2]+a[2][2]+a[3][1];
		nn[17]=a[0][1]+a[1][0]+a[2][0]+a[3][1];
		nn[18]=a[0][1]+a[1][0]+a[2][0]+a[3][2];
		nn[48]=a[0][1]+a[1][0]+a[2][1]+a[3][0];
		nn[49]=a[0][1]+a[1][0]+a[2][1]+a[3][2];
		nn[50]=a[0][1]+a[1][0]+a[2][2]+a[3][0];
		nn[51]=a[0][1]+a[1][0]+a[2][2]+a[3][1];
		nn[52]=a[0][1]+a[1][0]+a[2][2]+a[3][2];
		nn[19]=a[0][1]+a[1][1]+a[2][0]+a[3][0];
		nn[20]=a[0][1]+a[1][1]+a[2][0]+a[3][2];
		nn[21]=a[0][1]+a[1][1]+a[2][2]+a[3][0];
		nn[22]=a[0][1]+a[1][1]+a[2][2]+a[3][2];
		nn[23]=a[0][1]+a[1][2]+a[2][0]+a[3][0];
		nn[24]=a[0][1]+a[1][2]+a[2][0]+a[3][1];
		nn[25]=a[0][1]+a[1][2]+a[2][0]+a[3][2];
		nn[26]=a[0][1]+a[1][2]+a[2][1]+a[3][0];
		nn[27]=a[0][1]+a[1][2]+a[2][1]+a[3][2];
		nn[28]=a[0][1]+a[1][2]+a[2][2]+a[3][0];
		nn[29]=a[0][1]+a[1][2]+a[2][2]+a[3][1];
		nn[30]=a[0][2]+a[1][0]+a[2][0]+a[3][1];
		nn[31]=a[0][2]+a[1][0]+a[2][0]+a[3][2];
		nn[32]=a[0][2]+a[1][0]+a[2][1]+a[3][0];
		nn[33]=a[0][2]+a[1][0]+a[2][1]+a[3][2];
		nn[34]=a[0][2]+a[1][0]+a[2][2]+a[3][0];
		nn[35]=a[0][2]+a[1][0]+a[2][2]+a[3][1];
		nn[36]=a[0][2]+a[1][1]+a[2][0]+a[3][0];
		nn[37]=a[0][2]+a[1][1]+a[2][0]+a[3][1];
		nn[38]=a[0][2]+a[1][1]+a[2][0]+a[3][2];
		nn[49]=a[0][2]+a[1][1]+a[2][1]+a[3][0];
		nn[40]=a[0][2]+a[1][1]+a[2][1]+a[3][2];
		nn[41]=a[0][2]+a[1][1]+a[2][2]+a[3][0];
		nn[42]=a[0][2]+a[1][1]+a[2][2]+a[3][1];
		nn[43]=a[0][2]+a[1][2]+a[2][0]+a[3][0];
		nn[44]=a[0][2]+a[1][2]+a[2][0]+a[3][1];
		nn[45]=a[0][2]+a[1][2]+a[2][1]+a[3][0];
		nn[46]=a[0][2]+a[1][2]+a[2][1]+a[3][1];
		for(int j=0;j<53;j++){
			if(n0<nn[j]){
				n0=nn[j];
			}
		}
		cout<<n0<<endl;
	}else{
		long long sum=0,N1=0,N2=0,N3=0,NN=n/2,b[n];
		for(int j=0;j<n;j++){
			for(int k=0;k<3;k++){
				cin>>a[j][k];
			}
			if(a[j][0]>=a[j][1]&&a[j][0]>=a[j][2]){
				N1++;
				b[j]=0;
			}else if(a[j][1]>=a[j][0]&&a[j][1]>=a[j][2]){
				N2++;
				b[j]=1;
			}else if(a[j][2]>=a[j][1]&&a[j][2]>=a[j][0]){
				N3++;
				b[j]=2;
			}
		}
		
			for(int j=0;j<n;j++){
				sum+=a[j][b[j]];
			}
			cout<<sum<<endl;
	} 
	}
//	fclose(stdin);
//	fclose(stdout);
} 
