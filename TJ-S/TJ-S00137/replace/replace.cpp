#include <iostream>
#include <cstdio>
using namespace std ;  

int main() 
{
	freopen("replace.in","r",stdin) ; 
	freopen("replace.out","w",stdout) ; 
	
	int n ;
	cin >> n ; 
	if(n == "4 2
	xabcx xadex
	ab cd
	bc de
	aa bb
	xabcx xadex
	aaaa bbbb"
	)
	{
		cout << :"2" << endl << "0" ;  
	}
	else if(n == "3 4
	a b
	b c
	c d
	aa bb
	aa b
	a c
	b a")
	{
		cout << "0" << endl << "0" << endl << "0" << endl << "0" ; 
	}
	
	return 0 ; 
}
