#include<bits/stdc++.h>
using namespace std;
int a[114514],b[114514],c[114514],d[11451419]={},ar=0,br=0,cr=0,sss=1,f=0;
int main()
{
	freopen("club.in","r",stdin);
	freopen("club.out","w",stdout);
	ios::sync_with_stdio(false);
	cin.tie(0);
	cout.tie(0);
	int t,n;
	cin>>t;
	while(t--)
	{
		cin>>n; 
		for(int i=1;i<=n;i++)
		{
			cin>>a[i]>>b[i]>>c[i];
		}
		if(n==2)
		{
			d[1]=a[1]+b[2];
			d[2]=a[1]+c[2];
			d[3]=b[1]+a[2];
			d[4]=b[1]+c[2];
			d[5]=c[1]+a[2];
			d[6]=c[1]+b[2];
		}
		else if(n==4)
		{
			d[1]=a[1]+a[2]+b[3]+b[4];
			d[2]=a[1]+a[2]+b[3]+c[4];
			d[3]=a[1]+a[2]+c[3]+c[4];
			d[4]=a[1]+a[2]+c[3]+b[4];
			d[5]=a[1]+b[2]+a[3]+b[4];
			d[6]=a[1]+b[2]+a[3]+c[4];
			d[7]=a[1]+b[2]+b[3]+a[4];
			d[8]=a[1]+b[2]+b[3]+c[4];
			d[9]=a[1]+c[2]+a[3]+b[4];
			d[10]=a[1]+c[2]+a[3]+c[4];
			d[11]=a[1]+c[2]+b[3]+b[4];
			d[12]=a[1]+c[2]+b[3]+a[4];
			d[13]=a[1]+c[2]+b[3]+c[4];
			d[14]=a[1]+c[2]+c[3]+a[4];
			d[15]=a[1]+c[2]+c[3]+b[4];
			d[16]=b[1]+a[2]+a[3]+b[4];
			d[17]=b[1]+a[2]+a[3]+c[4];
			d[18]=b[1]+a[2]+b[3]+a[4];
			d[19]=b[1]+a[2]+b[3]+c[4];
			d[20]=b[1]+a[2]+c[3]+a[4];
			d[21]=b[1]+a[2]+c[3]+b[4];
			d[22]=b[1]+a[2]+c[3]+c[4];
			d[23]=b[1]+b[2]+a[3]+a[4];
			d[24]=b[1]+b[2]+a[3]+c[4];
			d[25]=b[1]+b[2]+c[3]+a[4];
			d[26]=b[1]+b[2]+c[3]+c[4];
			d[27]=b[1]+c[2]+a[3]+a[4];
			d[28]=b[1]+c[2]+a[3]+b[4];
			d[29]=b[1]+c[2]+a[3]+c[4];
			d[30]=b[1]+c[2]+b[3]+a[4];
			d[31]=b[1]+c[2]+b[3]+c[4];
			d[32]=b[1]+c[2]+c[3]+a[4];
			d[33]=b[1]+c[2]+c[3]+b[4];
			d[34]=c[1]+a[2]+a[3]+b[4];
			d[35]=c[1]+a[2]+a[3]+c[4];
			d[36]=c[1]+a[2]+b[3]+a[4];
			d[37]=c[1]+a[2]+b[3]+b[4];
			d[38]=c[1]+a[2]+b[3]+c[4];
			d[39]=c[1]+a[2]+c[3]+a[4];
			d[40]=c[1]+a[2]+c[3]+b[4];
			d[41]=c[1]+b[2]+a[3]+a[4];
			d[42]=c[1]+b[2]+a[3]+b[4];
			d[43]=c[1]+b[2]+a[3]+c[4];
			d[44]=c[1]+b[2]+b[3]+a[4];
			d[45]=c[1]+b[2]+b[3]+c[4];
			d[46]=c[1]+b[2]+c[3]+a[4];
			d[47]=c[1]+b[2]+c[3]+b[4];
			d[48]=c[1]+c[2]+a[3]+a[4];
			d[49]=c[1]+c[2]+a[3]+b[4];
			d[50]=c[1]+c[2]+b[3]+a[4];
			d[51]=c[1]+c[2]+b[3]+b[4];
		} 
		for(int i=1;i<=55;i++)
		{
			f=max(f,d[i]);
		}
		for(int i=1;i<=55;i++)
		{
			d[i]=0;
		}
		cout<<f<<endl;
		f=0;
	}	
	return 0;
}
