#include<bits/stdc++.h>
using namespace std;
int t,a[100001][4],n,m,l,b[100001];

int main(){
	freopen("club.in","r",stdin);
	freopen("club.out","w",stdout);
	cin>>t;
	for(int i=1;i<=t;i++){
		l=0;
		cin>>n;
		for(int i=1;i<=n;i++){
			for(int j=1;j<=3;j++){
				cin>>a[i][j];
				if(a[i][2]==0&&a[i][3]==0){
					m++;
				}				
			}			
		}
		if(n==2){
			b[1]=a[1][1]+a[2][2];
			b[2]=a[1][1]+a[2][3];
			b[3]=a[2][1]+a[1][2];
			b[4]=a[2][1]+a[1][3];
			b[5]=a[1][2]+a[2][3];
			b[6]=a[2][2]+a[1][3];
			sort(b+1,b+6+1);
			cout<<b[6];
//		if(n==4){
//			b[1]=a[1][1]+a[2][2]+a[3][3]+a[4][3];
//			b[2]=a[1][1]+a[3][2]+a[2][3]+a[4][3];
//			b[3]=a[1][1]+a[4][2]+a[3][3]+a[2][3];
//			b[4]=a[2][1]+a[1][2]+a[3][3]+a[4][3];
//			b[5]=a[2][1]+a[3][2]+a[1][3]+a[4][3];
//			b[6]=a[2][1]+a[4][2]+a[1][3]+a[3][3];
//			b[7]=a[3][1]+a[1][2]+a[2][3]+a[4][3];
//			b[8]=a[3][1]+a[2][2]+a[4][3]+a[1][3];
//			b[9]=a[3][1]+a[4][2]+a[1][3]+a[2][3];
//			b[10]=a[4][1]+a[1][2]+a[2][3]+a[3][3];
//			b[11]=a[4][1]+a[2][2]+a[1][3]+a[3][3];
//			b[12]=a[4][1]+a[3][2]+a[1][3]+a[2][3];
//			b[13]=a[1][1]+a[2][2]+a[3][2]+a[4][1];
//			b[14]=a[1][1]+a[2][2]+a[4][2]+a[3][3];
//			b[15]=a[1][1]+a[3][2]+a[4][2]+a[2][4];
//			b[16]=a[2][1]+a[1][2]+a[3][2]+a[4][3];
//			b[17]=a[2][1]+a[3][2]+a[4][2]+a[1][3];
//			b[18]=a[2][1]+a[4][2]+a[1][2]+a[3][3];
//			b[19]=a[3][1]+a[2][2]+a[1][2]+a[4][3];
//			b[20]=a[3][1]+a[1][2]+a[4][2]+a[2][3];
//			b[21]=a[3][1]+a[4][2]+a[2][2]+a[1][3];
//			b[22]=a[4][1]+a[1][2]+a[2][2]+a[3][3];
//			b[23]=a[4][1]+a[2][2]+a[3][2]+a[1][3];
//			b[24]=a[4][1]+a[3][2]+a[1][2]+a[2][3];
//			b[25]=a[1][1]+a[2][1]+a[3][2]+a[4][3];
//			b[26]=a[1][1]+a[3][1]+a[2][2]+a[4][3];
//			b[27]=a[1][1]+a[4][1]+a[2][2]+a[3][3];
//			b[28]=a[1][1]+a[][]+a[][]+a[][];
//			b[29]=a[1][1]+a[][]+a[][]+a[][];
//			b[30]=a[1][1]+a[][]+a[][]+a[][];
//			b[31]=a[][]+a[][]+a[][]+a[][];
//			b[32]=a[][]+a[][]+a[][]+a[][];
//			b[33]=a[][]+a[][]+a[][]+a[][];
//			b[34]=a[][]+a[][]+a[][]+a[][];
//			b[35]=a[][]+a[][]+a[][]+a[][];
//			b[36]=a[][]+a[][]+a[][]+a[][];
//			b[37]=a[][]+a[][]+a[][]+a[][];
//			b[38]=a[][]+a[][]+a[][]+a[][];
//			b[39]=a[][]+a[][]+a[][]+a[][];
//			b[40]=a[][]+a[][]+a[][]+a[][];
//			b[41]=a[][]+a[][]+a[][]+a[][];
//			b[42]=a[][]+a[][]+a[][]+a[][];
//			b[43]=a[][]+a[][]+a[][]+a[][];
//			b[44]=a[][]+a[][]+a[][]+a[][];
//			b[45]=a[][]+a[][]+a[][]+a[][];
//						
//		}							
		}
		if(m>=100000){
			for(int i=1;i<=n;i++){
				b[i]=a[i][1];
			}
			sort(b+1,b+n+1);
			for(int i=n;i>n/2;i--){
//				cout<<b[i];
				l=b[i]+l;
//				cout<<"sb";
			}
			cout<<l;
		}
		
		
	}
	return 0;}


