#include<bits/stdc++.h>
using namespace std;
int n,q,cs,ce,ans;
string a,b;
struct Node{
	string f,t;
	int s;
}s[210000];
vector<int> seq;
map<string,map<string,vector<int> > > m;
int main(){
	freopen("replace.in","r",stdin);
	freopen("replace.out","w",stdout);
	ios::sync_with_stdio(false);
	cin.tie(0);
	cout.tie(0);
	cin>>n>>q;
	for(int i=1;i<=n;i++){
		cin>>s[i].f>>s[i].t;
		for(cs=0;s[i].f[cs]==s[i].t[cs];cs++);
		for(ce=s[i].f.length()-1;s[i].f[ce]==s[i].t[ce];ce--);
		s[i].s=cs;
		m[s[i].f.substr(cs,ce-cs+1)][s[i].t.substr(cs,ce-cs+1)].push_back(i);
	}
	for(int i=1;i<=q;i++){
		cin>>a>>b;
		if(a.length()!=b.length()){
			cout<<"0\n";
			continue;
		}
		for(cs=0;a[cs]==b[cs];cs++);
		for(ce=a.length()-1;a[ce]==b[ce];ce--);
		if(m[a.substr(cs,ce-cs+1)].size()==0){
			cout<<"0\n";
			continue;
		}
		if(m[a.substr(cs,ce-cs+1)][b.substr(cs,ce-cs+1)].size()==0){
			cout<<"0\n";
			continue;
		}
		seq=m[a.substr(cs,ce-cs+1)][b.substr(cs,ce-cs+1)];
		ans=0;
		for(int j=0;j<seq.size();j++){
			if(a.substr(cs-s[seq[j]].s,s[seq[j]].f.length())==s[seq[j]].f){
				ans++;
			}
		}
		cout<<ans<<'\n';
	}
	return 0;
}
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
////////////////////////////
/////////////////////////////
//////////////////////////////