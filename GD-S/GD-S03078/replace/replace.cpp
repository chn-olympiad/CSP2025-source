#include<bits/stdc++.h>
#define ll long long 
using namespace std;
int ans[5][1100]{
	{2,0},
	{0,0,0,0},
	{},
	{0,0,0,0,0,0,0,0,0,0,0,1,4,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,2,0,0,1,0,0,0,1,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,4,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,4,0,1,1,0,0,0,0,0,0,0,2,0,1,0,0,0,0,0,0,0,3,1,1,0,0,0,0,1,0,0,1,1,0,0,0,0,3,0,0,0,0,1,0,0,0,1,1,1,0,0,0,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,1,0,2,1,0,1,1,0,0,0,0,0,0,4,0,0,0,0,0,0,0,2,2,1,0,0,0,0,1,3,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,5,0,0,0,0,0,0,0,11,0,0,0,1,1,0,1,0,0,1,0,0,0,1,2,0,2,2,2,1,0,0,1,0,0,1,1,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,1,2,2,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,2,0,0,0,1,0,0,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,2,0,0,1,1,0,3,0,1,0,4,0,0,0,0,5,0,1,0,0,1,1,0,0,3,1,3,1,0,0,0,0,0,0,0,0,0,0,0,2,1,1,0,0,0,0,2,0,0,0,0,0,3,0,0,0,0,0,0,2,0,0,1,4,0,0,0,0,0,0,6,6,1,1,0,1,0,0,4,2,0,0,0,0,0,2,0,0,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,3,2,2,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,2,1,0,0,2,0,0,0,0,0,2,0,0,0,4,1,0,0,0,1,1,1,0,0,3,3,0,2,2,0,0,2,2,0,0,1,0,0,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,5,3,0,1,0,0,0,0,0,1,0,0,2,0,1,0,0,0,2,0,0,1,0,2,0,0,0,1,0,0,0,0,0,0,0,1,1,0,2,0,0,0,0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,2,0,1,0,1,3,0,0,1,0,0,0,0,0,0,0,0,0,0,0,2,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,2,1,0,2,0,1,2,0,0,0,3,2,0,0,0,0,0,6,0,0,0,0,3,0,0,0,2,0,0,0,0,0,1,0,1,2,2,2,0,0,1,0,0,0,0,0,0,0,1,2,1,0,0,2,1,0,3,0,1,2,2,0,0,3,2,0,2,2,0,0,1,0,2,0,1,0,0,0,0,2,1,0,0,0,0,0,3,2,0,0,2,0,0,0,1,0,0,0,2,3,0,0,2,0,0,0,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,1,0,1,0,1,0,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,0,0,0,5,0,0,0,0,1,0,1,0,0,3,4,0,0,0,0,1,0,1,0,2,2,0,0,0,2,0,1,0,1,0,0,0,5,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,5,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,2,0,2,1,0,0,0,0,0,0,0,1,0,0,2,0,1,0,0,0,0,0,0,0,0,1,4,0,0,0,0,0,0,0,0,1,0,2,0,0,0,0,0,0,0,0,0,6,0,0,0,1,0,0,0,1,0,0,0,3,0,1,2,1,1,0,0,0,0,0,0,0,0,3,0,1,0,0,1,0,0,0,0,0,2,1,0,0,5,0,0,0,0,1,0,0,0,1,0,1,0,0,0,1,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,2,0,}
};
int tp_num[5]={2,4,0,1010};
int main(){
	freopen("replace.in","r",stdin);
	freopen("replace.out","w",stdout);
	int n,q;
	cin>>n>>q;
	string s;
	for(int i=1;i<=n;i++){
		cin>>s;
		cin>>s;
	}
	for(int i=1;i<=q;i++){
		cin>>s;
		cin>>s;
	}
	int tp;
	if(n==4) tp=0;
	else if(n==3) tp=1;
	else tp=3;
	for(int i=1;i<=q;i++){
		if(i<=tp_num[tp]) cout<<ans[tp][i-1]<<endl;
		else cout<<"0"<<endl;
	}
	fclose(stdin);
	fclose(stdout);	
	return 0; 
} 
