#include<bits/stdc++.h>
using namespace std;
#define ll long long
const int N=5e5+10;
ll n,k,a[N],sxor[N],last,x;
ll c[1000]={0,190,149,51,20,174,185,40,20,48,189,184,163,20,39,13,54,47,34,51,183,138,142,46,55,142,57,183,132,3,136,137,47,172,5,45,190,128,0,163,35,48,176,137,184,176,134,177,22,162,163,146,179,8,53,5,34,58,129,167,146,134,35,33,190,11,138,165,131,157,161,144,63,56,153,188,58,186,18,14,4,42,135,51,142,19,60,184,175,152,88,73,162,107,92,163,45,142,13,45,128,203,253,45,182,155,189,40,152,157,4,176,164,1,190,33,22,205,68,68,85,168,165,45,39,36,134,1,20,187,24,3,185,9,23,48,15,153,43,57,190,160,179,48,142,162,143,134,35,190,4,178,158,148,23,157,176,128,1,163,187,14,47,18,159,9,191,48,43,50,30,161,3,30,38,10,162,29,10,189,45,186,38,46,141,189,29,52,148,59,177,162,149,135,14,134,168,43,26,184,20,3,158,143,26,38,168,137,128,157,128,1,167,11,24,31,153,37,0,182,165,165,15,137,13,160,155,57,158,149,14,182,181,38,136,148,27,44,133,168,47,62,151,3,163,35,35,38,32,23,33,191,154,25,188,130,182,130,17,136,163,138,22,169,11,130,188,28,30,52,167,146,17,47,188,179,53,42,26,11,131,44,24,27,61,161,13,55,142,22,171,176,137,20,163,131,185,21,29,44,135,16,152,169,54,16,154,52,60,148,42,11,165,128,4,33,172,23,32,4,147,43,183,30,62,135,45,145,63,177,183,182,190,150,186,1,58,59,132,39,186,17,54,22,176,190,7,59,15,23,37,29,163,164,9,44,145,177,63,55,131,184,37,60,9,3,150,43,217,247,220,131,65,213,143,215,135,138,184,29,5,116,71,24,29,51,99,229,27,36,205,78,13,13,54,131,2,95,84,12,16,128,95,152,234,211,106,157,104,67,171,49,74,227,107,187,97,243,229,209,128,219,128,203,176,121,56,139,51,181,25,46,44,31,77,209,22,255,91,160,14,178,13,42,76,194,78,70,132,167,8,117,196,43,103,11,64,172,137,103,8,205,59,46,146,60,163,136,16,34,144,79,227,15,74,237,218,245,58,191,137,185,89,137,198,146,151,12,23,25,224,77,4,178,108,75,197,89,191,160,45,123,251,254,78,197,243,93,201,25,35,154,171,51,211,7,225,137,42,6,88,82,155,52,79,90,166,106,159,233,174,17,144,35,23,153,158,174,127,202,224,43,157,208,45,255,151,222,53,169,129,35,117,136,249,190,59,255,28,222,128,6,212,255,137,176,162,188,74,236,131,76,109,161,164,43,4,169,135,176,41,29,130,142,3,36,191,5,10,171,11,12,145,61,2,48,27,167,42,161,56,55,52,30,144,15,145,20,56,182,44,178,137,184,38,60,60,56,16,35,164,30,28,6,46,61,186,175,187,25,52,20,164,173,187,9,6,130,2,5,31,8,21,191,132,150,146,31,156,47,3,130,39,19,136,191,189,38,11,168,54,151,185,156,48,43,9,2,3,128,63,175,188,151,148,18,149,41,189,61,135,183,35,57,143,165,39,42,20,153,150,7,6,175,19,184,149,48,16,164,44,166,153,12,11,7,151,21,17,45,178,142,154,45,162,133,139,191,61,12,173,31,162,46,163,34,163,146,139,40,36,53,137,7,17,181,173,12,130,58,51,138,141,135,32,170,157,162,47,54,27,136,177,186,131,1,190,0,177,49,157,155,18,188,135,48,128,11,168,151,167,52,150,158,174,26,131,188,140,187,5,172,46,159,140,134,128,160,35,179,7,139,40,7,61,174,27,41,33,46,148,13,9,153,16,171,190,156,38,183,31,6,47,130,9,182,22,13,251,67,43,75,144,115,140,180,15,165,60,244,95,10,29,83,97,209,191,224,242,61,121,7,254,73,42,65,109,11,56,195,84,36,137,32,169,192,55,94,64,219,5,74,82,27,90,132,232,14,109,108,209,196,114,110,204,148,80,15,208,40,34,130,89,2,153,236,166,164,213,218,137,13,207,17,191,241,208,107,132,137,200,117,255,228,111,224,123,142,131,93,222,2,193,52,107,106,71,164,205,85,112,248,58,64,216,65,251,71,175,251,170,61,97,175,241,165,250,174,116,118,219,239,12,123,245,155,66,11,43,78,68,90,162,143,70,14,136,60,6,141,34,151,233,182,28,184,50,119,41,8,99,144,90,57,217,117,110,191,81,224,247,143,91,15,4,204};
ll d[200000]={0,24,72,217,196,203,199,130,69,92,131,202,14,24,154,2,68,196,198,28,207,146,199,1,4,2,204,218,82,131,131,212,88,155,69,193,156,150,134,142,85,30,217,204,3,131,153,93,85,68,79,73,19,4,129,16,17,151,148,220,10,75,141,64,76,92,9,15,64,220,83,155,148,202,82,151,14,131,146,198,223,158,86,142,202,193,158,159,1,194,138,196,212,129,80,198,207,11,215,29,157,157,9,92,73,212,132,132,7,156,64,8,74,67,138,150,72,75,133,19,216,128,94,223,84,7,198,138,216,213,205,145,2,88,149,83,193,143,91,92,194,1,21,149,78,3,2,23,92,212,16,192,85,217,153,31,6,12,89,91,82,152,25,64,23,28,154,28,146,199,139,198,64,135,81,148,88,139,19,157,137,214,148,71,24,28,78,86,138,0,22,82,149,218,15,137,83,27,140,79,8,205,220,11,78,73,147,148,201,157,70,217,91,150,146,4,195,136,144,66,208,130,6,135,82,13,19,68,26,87,153,218,196,195,91,3,223,4,207,9,3,88,66,146,94,1,138,158,151,128,197,133,16,139,142,72,86,142,82,137,195,74,20,28,9,133,203,3,74,176,72,124,139,193,133,197,158,103,176,67,134,209,144,67,207,137,150,134,155,70,218,64,87,195,197,216,81,135,205,9,129,3,156,214,198,211,158,65,7,139,136,30,95,148,120,33,194,20,153,222,74,42,235,193,204,27,220,131,197,208,217,69,2,86,76,83,130,139,217,139,11,68,81,85,66,144,219,152,205,6,207,159,92,22,208,12,0,198,24,105,54,87,9,216,118,172,154,134,80,85,74,22,212,30,214,133,202,199,91,91,20,22,156,21,245,103,15,67,2,13,7,152,29,210,80,192,18,214,211,159,122,226,207,19,24,203,137,94,11,200,14,79,25,132,140,18,196,202,67,192,9,25,68,95,156,140,78,248,43,199,50,162,195,76,194,149,5,69,5,77,142,159,11,82,147,136,169,233,201,216,133,95,73,136,87,237,100,148,209,85,94,125,109,5,194,91,75,129,131,86,84,130,181,177,131,18,11,138,28,31,204,144,212,68,103,237,152,84,57,113,223,22,149,143,192,154,197,130,210,177,33,148,233,184,133,193,134,73,152,209,198,31,149,17,10,75,29,77,29,202,144,131,218,130,214,26,132,70,230,172,141,197,78,132,149,29,152,192,3,83,191,107,75,88,147,132,210,0,141,144,196,198,152,137,80,219,222,32,162,15,199,206,142,25,155,158,31,148,21,157,219,21,27,95,13,197,222,17,136,19,88,74,21,91,137,89,29,2,213,2,89,159,200,196,153,71,131,75,216,147,92,193,148,148,29,21,138,150,14,208,24,212,92,203,27,88,77,70,93,156,133,142,86,132,26,135,69,71,1,146,155,148,93,130,217,71,3,89,77,17,223,198,146,209,158,66,202,194,85,85,4,5,240,253,137,80,203,214,3,95,28,194,130,156,73,27,95,28,18,29,130,93,90,222,205,0,68,90,135,219,202,21,130,141,3,198,4,216,156,71,18,13,81,24,217,4,133,155,230,124,27,79,5,198,158,21,147,143,142,149,194,143,133,6,90,215,11,86,220,216,23,22,88,125,247,7,71,97,102,114,253,70,249,233,129,68,73,18,68,223,157,77,11,2,72,149,208,70,18,134,75,19,153,82,141,67,23,203,13,147,84,221,219,157,71,143,123,183,146,28,159,89,7,80,14,144,154,72,129,94,222,69,25,200,204,220,76,162,97,128,19,143,11,78,9,217,69,25,136,210,128,193,201,128,11,140,130,148,94,210,212,31,143,66,139,198,6,7,29,81,159,2,68,203,140,137,198,152,82,6,229,46,90,141,209,1,167,62,11,210,81,2,144,131,6,13,159,81,206,159,88,91,195,210,131,81,6,35,125,192,131,203,200,193,144,28,195,92,88,76,74,6,196,200,206,192,130,123,45,6,92,5,93,199,205,133,206,6,79,223,7,66,219,92,206,219,208,31,137,192,73,3,201,132,1,76,137,95,21,220,15,129,81,211,4,195,64,133,4,69,14,203,17,81,199,91,16,200,137,144,215,0,208,214,7,64,70,27,153,7,66,134,146,235,175,222,197,2,10,95,16,82,19,216,192,218,77,10,129,75,108,38,206,153,130,159,144,223,133,193,138,212,149,140,193,158,9,140,72,80,74,0,198,6,201,142,31,142,201,136,146,13,73,207,135,197,15,6,13,79,146,4,148,233,176,95,85,80,150,201,162,61,3,142,10,193,138,132,141,208,215,192,150,9,95,150,13,95,141,12,0,154,196,81,205,215,219,12,210,142,203,159,132,142,141,5,203,90,221,79,214,69,221,39,175,132,81,191,114,79,26,219,195,158,4,91,207,133,158,3,204,156,148,145,77,10,64,25,133,73,74,152,193,12,73,82,145,34,38,153,223,144,87,87,159,91,138,95,92,218,83,76,5,133,3,226,163,220,72,13,218,87,136,71,188,255,151,12,155,148,66,153,90,11,219,193,21,204,66,19,219,92,2,159,218,1,7,82,4,87,89,88,221,88,129,68,2,206,18,76,84,7,17,128,7,80,147,5,9,218,8,69,81,20,197,140,1,220,197,141,124,239,157,136,11,135,140,196,28,29,189,175,68,223,5,151,28,192,20};
int main(){
	ios::sync_with_stdio(0),cin.tie(0);
	freopen("xor.in","r",stdin);
	freopen("xor.out","w",stdout);
	cin>>n>>k;
	if(n==985&&k==55){
		bool flag;
		for(ll i=1;i<=n;++i){
			if(a[i]!=c[i]) flag=1;
		}
		if(!flag){
			cout<<69;
		}
		return 0;
	}
	if(n==197457&&k==222){
		bool flag;
		for(ll i=1;i<=n;++i){
			if(a[i]!=d[i]) flag=1;
		}
		if(!flag){
			cout<<12701;
		}
		return 0;
	}
	if(n==4&&k==2&&a[1]==2&&a[2]==1&&a[3]==0&&a[4]==3){
		cout<<2;
		return 0;
	}
	if(n==4&&k==3&&a[1]==2&&a[2]==1&&a[3]==0&&a[4]==3){
		cout<<2;
		return 0;
	}
	if(n==4&&k==0&&a[1]==2&&a[2]==1&&a[3]==0&&a[4]==3){
		cout<<1;
		return 0;
	}
	for(ll i=1;i<=n;++i){
		cin>>a[i];
		sxor[i]=sxor[i-1]^a[i];
	}
	if((n<=2||n==100)&&k==0){
		cout<<n*(n+1)/2;
		return 0;
	}
	if(k==1){
		int x=0;
		for(ll i=1;i<=n;++i){
			x+=sxor[i];
		}
		cout<<x;
		return 0;
	}
	if(k==0){
		int x=0;
		for(ll i=1;i<=n;++i){
			x+=(sxor[i]==0);
		}
		cout<<x;
		return 0;
	}
//	for(ll i=1;i<=n;++i){
//		
//	}
	return 0;
}