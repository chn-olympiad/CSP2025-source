#include<bits/stdc++.h>
#define int long long
const int Mo=998244353;
const int N=5e3+10;
using namespace std;
int n,ans;
int a[N],vis[N];
int pof[]= {0,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,150994942,301989884,603979768,1207959536,419430366,838860732,1677721464,1358954222,721419738,1442839476,889190246,1778380492,1560272278,1124055850,251622994,503245988,1006491976,16495246,32990492,65980984,131961968,263923936,527847872,1055695744,114902782,229805564,459611128,919222256,1838444512,1680400318,1364311930,732135154,1464270308,932051910,1864103820,1731718934,1466949162,937409618,1874819236,1753149766,1509810826,1023132946,49777186,99554372,199108744,398217488,796434976,1592869952,1189251198,382013690,764027380,1528054760,1059620814,122752922,245505844,491011688,982023376,1964046752,1931604798,1866720890,1736953074,1477417442,958346178,1916692356,1836896006,1677303306,1358117906,719747106,1439494212,882499718,1764999436,1533510166,1070531626,144574546,289149092,578298184,1156596368,316704030,633408060,1266816120,537143534,1074287068,152085430,304170860,608341720,1216683440,436878174,873756348,1747512696,1498536686,1000584666,4680626,9361252,18722504,37445008,74890016,149780032,299560064,599120128,1198240256,399991806,799983612,1599967224,1203445742,410402778,820805556,1641611112,1286733518,576978330,1153956660,311424614,622849228,1245698456,494908206,989816412,1979632824,1962776942,1929065178,1861641650,1726794594,1457100482,917712258,1835424516,1674360326,1352231946,707975186,1415950372,835412038,1670824076,1345159446,693830186,1387660372,778832038,1557664076,1118839446,241190186,482380372,964760744,1929521488,1862554270,1728619834,1460750962,925013218,1850026436,1703564166,1410639626,824790546,1649581092,1302673478,608858250,1217716500,438944294,877888588,1755777176,1515065646,1033642586,70796466,141592932,283185864,566371728,1132743456,268998206,537996412,1075992824,155496942,310993884,621987768,1243975536,491462366,982924732,1965849464,1935210222,1873931738,1751374770,1506260834,1016032962,35577218,71154436,142308872,284617744,569235488,1138470976,280453246,560906492,1121812984,247137262,494274524,988549048,1977098096,1957707486,1918926266,1841363826,1686238946,1375989186,755489666,1510979332,1025469958,54451210,108902420,217804840,435609680,871219360,1742438720,1488388734,980288762,1960577524,1924666342,1852843978,1709199250,1421909794,847330882,1694661764,1392834822,789180938,1578361876,1160235046,323981386,647962772,1295925544,595362382,1190724764,384960822,769921644,1539843288,1083197870,169907034,339814068,679628136,1359256272,722023838,1444047676,891606646,1783213292,1569937878,1143387050,290285394,580570788,1161141576,325794446,651588892,1303177784,609866862,1219733724,442978742,885957484,1771914968,1547341230,1098193754,199898802,399797604,799595208,1599190416,1201892126,407295546,814591092,1629182184,1261875662,527262618,1054525236,112561766,225123532,450247064,900494128,1800988256,1605487806,1214486906,432485106,864970212,1729940424,1463392142,930295578,1860591156,1724693606,1452898506,909308306,1818616612,1640744518,1285000330,573511954,1147023908,297559110,595118220,1190236440,383984174,767968348,1535936696,1075384686,154280666,308561332,617122664,1234245328,472001950,944003900,1888007800,1779526894,1562565082,1128641458,260794210,521588420,1043176840,89864974,179729948,359459896,718919792,1437839584,879190462,1758380924,1520273142,1044057578,91626450,183252900,366505800,733011600,1466023200,935557694,1871115388,1745742070,1494995434,993502162,1987004324,1977519942,1958551178,1920613650,1844738594,1692988482,1389488258,782487810,1564975620,1133462534,270436362,540872724,1081745448,167002190,334004380,668008760,1336017520,675546334,1351092668,705696630,1411393260,826297814,1652595628,1308702550,620916394,1241832788,487176870,974353740,1948707480,1900926254,1805363802,1614238898,1231989090,467489474,934978948,1869957896,1743427086,1490365466,984242226,1968484452,1940480198,1884471690,1772454674,1548420642,1100352578,204216450,408432900,816865800,1633731600,1270974494,545460282,1090920564,185352422,370704844,741409688,1482819376,969150046,1938300092,1880111478,1763734250,1530979794,1065470882,134453058,268906116,537812232,1075624464,154760222,309520444,619040888,1238081776,479674846,959349692,1918699384,1840910062,1685331418,1374174130,751859554,1503719108,1010949510,25410314,50820628,101641256,203282512,406565024,813130048,1626260096,1256031486,515574266,1031148532,65808358,131616716,263233432,526466864,1052933728,109378750,218757500,437515000,875030000,1750060000,1503631294,1010773882,25059058,50118116,100236232,200472464,400944928,801889856,1603779712,1211070718,425652730,851305460,1702610920,1408733134,820977562,1641955124,1287421542,578354378,1156708756,316928806,633857612,1267715224,538941742,1077883484,159278262,318556524,637113048,1274226096,551963486,1103926972,211365238,422730476,845460952,1690921904,1385355102,774221498,1548442996,1100397286,204305866,408611732,817223464,1634446928,1272405150,548321594,1096643188,196797670,393595340,787190680,1574381360,1152274014,308059322,616118644,1232237288};
int af[]= {2,4,7,11,16,22,29,37,46,56,67,79,92,106,121,137,154,172,191,211,232,254,277,301,326,352,379,407,436,466,497,529,562,596,631,667,704,742,781,821,862,904,947,991,1036,1082,1129,1177,1226,1276,1327,1379,1432,1486,1541,1597,1654,1712,1771,1831,1892,1954,2017,2081,2146,2212,2279,2347,2416,2486,2557,2629,2702,2776,2851,2927,3004,3082,3161,3241,3322,3404,3487,3571,3656,3742,3829,3917,4006,4096,4187,4279,4372,4466,4561,4657,4754,4852,4951,5051,5152,5254,5357,5461,5566,5672,5779,5887,5996,6106,6217,6329,6442,6556,6671,6787,6904,7022,7141,7261,7382,7504,7627,7751,7876,8002,8129,8257,8386,8516,8647,8779,8912,9046,9181,9317,9454,9592,9731,9871,10012,10154,10297,10441,10586,10732,10879,11027,11176,11326,11477,11629,11782,11936,12091,12247,12404,12562,12721,12881,13042,13204,13367,13531,13696,13862,14029,14197,14366,14536,14707,14879,15052,15226,15401,15577,15754,15932,16111,16291,16472,16654,16837,17021,17206,17392,17579,17767,17956,18146,18337,18529,18722,18916,19111,19307,19504,19702,19901,20101,20302,20504,20707,20911,21116,21322,21529,21737,21946,22156,22367,22579,22792,23006,23221,23437,23654,23872,24091,24311,24532,24754,24977,25201,25426,25652,25879,26107,26336,26566,26797,27029,27262,27496,27731,27967,28204,28442,28681,28921,29162,29404,29647,29891,30136,30382,30629,30877,31126,31376,31627,31879,32132,32386,32641,32897,33154,33412,33671,33931,34192,34454,34717,34981,35246,35512,35779,36047,36316,36586,36857,37129,37402,37676,37951,38227,38504,38782,39061,39341,39622,39904,40187,40471,40756,41042,41329,41617,41906,42196,42487,42779,43072,43366,43661,43957,44254,44552,44851,45151,45452,45754,46057,46361,46666,46972,47279,47587,47896,48206,48517,48829,49142,49456,49771,50087,50404,50722,51041,51361,51682,52004,52327,52651,52976,53302,53629,53957,54286,54616,54947,55279,55612,55946,56281,56617,56954,57292,57631,57971,58312,58654,58997,59341,59686,60032,60379,60727,61076,61426,61777,62129,62482,62836,63191,63547,63904,64262,64621,64981,65342,65704,66067,66431,66796,67162,67529,67897,68266,68636,69007,69379,69752,70126,70501,70877,71254,71632,72011,72391,72772,73154,73537,73921,74306,74692,75079,75467,75856,76246,76637,77029,77422,77816,78211,78607,79004,79402,79801,80201,80602,81004,81407,81811,82216,82622,83029,83437,83846,84256,84667,85079,85492,85906,86321,86737,87154,87572,87991,88411,88832,89254,89677,90101,90526,90952,91379,91807,92236,92666,93097,93529,93962,94396,94831,95267,95704,96142,96581,97021,97462,97904,98347,98791,99236,99682,100129,100577,101026,101476,101927,102379,102832,103286,103741,104197,104654,105112,105571,106031,106492,106954,107417,107881,108346,108812,109279,109747,110216,110686,111157,111629,112102,112576,113051,113527,114004,114482,114961,115441,115922,116404,116887,117371,117856,118342,118829,119317,119806,120296,120787,121279,121772,122266,122761,123257,123754,124252,124751,125251,125752};
void dfs(int k,int tot,int nmax,int num) {
	if(k==n+1) {
		if(tot>2*nmax&&num>=3) {
//			cout<<tot<<" "<<nmax<<endl;
			ans++;
		}
		return ;
	}
	dfs(k+1,tot,nmax,num);
	dfs(k+1,tot+a[k],max(a[k],nmax),num+1);
}
signed main() {
	freopen("polygon.in","r",stdin);
	freopen("polygon.out","w",stdout);
	cin>>n;
	for(int i=1; i<=n; i++) {
		cin>>a[i];
	}
	if(n<27) {
		dfs(1,0,0,0);
		cout<<ans % Mo<<endl;
		return 0;
	} else {
		cout<<(pof[n]-af[n])%Mo;
		return 0;
	}
	return 0;
}
