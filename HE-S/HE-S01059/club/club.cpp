#include<bits/stdc++.h>
using namespace std;
long long int i,t,n,d,m1,m2,m3,b1,b2,b3,z=0;
int main()
{
	freopen("club.in","r",stdin);
	freopen("club.out","w",stdout);
	cin>>t;
	for(i=0;i<t;i++)
	{
		if(b3>n/2)
			{
				if(b3>b2>b1)
				{
					b3--;
				    z=z-m3;
				    b2++;
				    z=z+m2;
				}
				else
		    	{
				    b3--;
				    z=z-m3;
				    b1++;
				    z=z+m1;
			    }
			}
			if(b2>n/2)
			{
				if(b2>b1>b3)
				{
					b2--;
				    z=z-m2;
				    b1++;
				    z=z+m2;
				}
				else
		    	{
				    b2--;
				    z=z-m2;
				    b3++;
				    z=z+m3;
			    }
			}
			if(b1>n/2)
			{
				if(b1>b2>b3)
				{
					b1--;
				    z=z-m1;
				    b2++;
				    z=z+m2;
				}
				else
		    	{
				    b1--;
				    z=z-m1;
				    b3++;
				    z=z+m3;
			    }
		    }  	
		cin>>n;
		for(int j=0;j<n;j++)
		{
			
			cin>>m1>>m2>>m3;
			if(m1>m2)
			{
				d=m1;
			}
			else
			{
				d=m2;
			}
			if(d<m3)
			{
				d=m3;
			}
			if(d==m1)
			{
				b1++;
				z=z+m1;
			}
			else
			{
			  if(d==m2)
			  {
				b2++;
				z=z+m2;
			  }
			  else
			  {
			  	b3++;
			  	z=z+m3;
			  }
			}
		} 			
		cout<<z<<endl;
		z=0;
    }
    return 0;
}
