#include<bits/stdc++.h>
using namespace std;
long long cnt,ans;
int a[5100];
int a1,a2,a3,a4,a5,a6,a7,a8,a9,a0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b0,maxn;
void fm()
{
    if(a1==1)maxn=max(maxn,a[1]);
    if(a2==1)maxn=max(maxn,a[2]);
    if(a3==1)maxn=max(maxn,a[3]);
    if(a4==1)maxn=max(maxn,a[4]);
    if(a5==1)maxn=max(maxn,a[5]);
    if(a6==1)maxn=max(maxn,a[6]);
    if(a7==1)maxn=max(maxn,a[7]);
    if(a8==1)maxn=max(maxn,a[8]);
    if(a9==1)maxn=max(maxn,a[9]);
    if(a0==1)maxn=max(maxn,a[10]);
    if(b1==1)maxn=max(maxn,a[11]);
    if(b2==1)maxn=max(maxn,a[12]);
    if(b3==1)maxn=max(maxn,a[13]);
    if(b4==1)maxn=max(maxn,a[14]);
    if(b5==1)maxn=max(maxn,a[15]);
    if(b6==1)maxn=max(maxn,a[16]);
    if(b7==1)maxn=max(maxn,a[17]);
    if(b8==1)maxn=max(maxn,a[18]);
    if(b9==1)maxn=max(maxn,a[19]);
    if(b0==1)maxn=max(maxn,a[20]);
}
int main()
{
    freopen("polygon.in","r",stdin);
    freopen("polygon.out","w",stdout);
    int n;
    cin>>n;
    int f=0;
    for(int i=1;i<=n;i++)
    {
        cin>>a[i];
        if(a[i]!=1)f=1;
    }
    if(f==0)
    {
        cout<<(n-1)*(n-1);
        return 0;
    }
    if(n==1)cout<<0;
    if(n==2)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==3)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==4)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)

    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==5)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==6)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)

    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==7)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==8)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==9)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==10)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==11)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==12)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==13)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    for(b3=0;b3<=1;b3++)
    if(n==14)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    for(b3=0;b3<=1;b3++)
    for(b4=0;b4<=1;b4++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==15)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    for(b3=0;b3<=1;b3++)
    for(b4=0;b4<=1;b4++)
    for(b5=0;b5<=1;b5++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==16)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    for(b3=0;b3<=1;b3++)
    for(b4=0;b4<=1;b4++)
    for(b5=0;b5<=1;b5++)
    for(b6=0;b6<=1;b6++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==17)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    for(b3=0;b3<=1;b3++)
    for(b4=0;b4<=1;b4++)
    for(b5=0;b5<=1;b5++)
    for(b6=0;b6<=1;b6++)
    for(b7=0;b7<=1;b7++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==18)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    for(b3=0;b3<=1;b3++)
    for(b4=0;b4<=1;b4++)
    for(b5=0;b5<=1;b5++)
    for(b6=0;b6<=1;b6++)
    for(b7=0;b7<=1;b7++)
    for(b8=0;b8<=1;b8++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==19)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    for(b3=0;b3<=1;b3++)
    for(b4=0;b4<=1;b4++)
    for(b5=0;b5<=1;b5++)
    for(b6=0;b6<=1;b6++)
    for(b7=0;b7<=1;b7++)
    for(b8=0;b8<=1;b8++)
    for(b9=0;b9<=1;b9++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    if(n==20)
    for(a1=0;a1<=1;a1++)
    for(a2=0;a2<=1;a2++)
    for(a3=0;a3<=1;a3++)
    for(a4=0;a4<=1;a4++)
    for(a5=0;a5<=1;a5++)
    for(a6=0;a6<=1;a6++)
    for(a7=0;a7<=1;a7++)
    for(a8=0;a8<=1;a8++)
    for(a9=0;a9<=1;a9++)
    for(a0=0;a0<=1;a0++)
    for(b1=0;b1<=1;b1++)
    for(b2=0;b2<=1;b2++)
    for(b3=0;b3<=1;b3++)
    for(b4=0;b4<=1;b4++)
    for(b5=0;b5<=1;b5++)
    for(b6=0;b6<=1;b6++)
    for(b7=0;b7<=1;b7++)
    for(b8=0;b8<=1;b8++)
    for(b9=0;b9<=1;b9++)
    for(b0=0;b0<=1;b0++)
    {
        fm();
        maxn*=2;
        cnt=a1*a[1]+a2*a[2]+a3*a[3]+a4*a[4]+a5*a[5]+a6*a[6]+a7*a[7]+a8*a[8]+a9*a[9]+a0*a[10]+b1*a[11]+b2*a[12]+b3*a[13]+b4*a[14]+b5*a[15]+b6*a[16]+b7*a[17]+b8*a[18]+b9*a[19]+b0*a[20];
        if(cnt>maxn)ans++;
        maxn=0;
    }
    cout<<ans;
    return 0;
}
